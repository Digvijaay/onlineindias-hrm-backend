// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["prismaSchemaFolder"]
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Employee {
  id            String @id @default(auto()) @map("_id") @db.ObjectId
  firstName     String
  lastName      String
  gender        Gender
  guardianName  String
  personalEmail String
  personalPhone String
  aadharCard    String
  panCard       String

  // Separate IDs for permanent and current addresses
  permanentAddressId String? @unique @db.ObjectId
  currentAddressId   String? @unique @db.ObjectId

  // Relationships with different addresses
  permanentAddress Address? @relation("PermanentAddress", fields: [permanentAddressId], references: [id])
  currentAddress   Address? @relation("CurrentAddress", fields: [currentAddressId], references: [id])
}

model Address {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  hNo     String
  city    String
  pincode String
  state   String
  country String

  // Reverse relations to Employee
  permanentEmployee Employee? @relation("PermanentAddress")
  currentEmployee   Employee? @relation("CurrentAddress")
}

// model BankDetails {
//   id             String  @id @default(auto()) @map("_id") @db.ObjectId
//   accountHolder  String
//   accountNumber  String
//   bankName       String
//   ifscCode       String
//   branchLocation String
//   branchIdCode   String
//   taxPayerId     String
//   upiId          String?
// }

// model CompanyInfo {
//   id              String   @id @default(auto()) @map("_id") @db.ObjectId
//   employeeId      String
//   dateOfJoining   DateTime
//   department      String
//   designation     String
//   role            String
//   officialEmail   String
//   assets          Json
//   probationPeriod Json
// }

// model PreviousCompany {
//   id             String @id @default(auto()) @map("_id") @db.ObjectId
//   companyName    String
//   department     String
//   designation    String
//   officialEmail  String
//   headName       String
//   headContact    String
//   companyContact String
// }

// model Documents {
//   id                     String @id @default(auto()) @map("_id") @db.ObjectId
//   personalDetails        String
//   relievingLetter        String
//   paySlip                String
//   bankStatement          String
//   marksheet              String
//   idProof                String
//   addressProof           String
//   resume                 String
//   previousCompanyDetails String
// }
